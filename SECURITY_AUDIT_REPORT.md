# üîí –û—Ç—á–µ—Ç –ø–æ –∞—É–¥–∏—Ç—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

**–î–∞—Ç–∞:** 2025-01-15  
**–ü—Ä–æ–µ–∫—Ç:** Eterno - –°–∞–π—Ç —Ä–µ–º–æ–Ω—Ç–Ω–æ-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏  
**–ê—É–¥–∏—Ç–æ—Ä:** Senior Fullstack Developer

---

## üìã –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞, –≤–∫–ª—é—á–∞—é—â–∏–π –ø—Ä–æ–≤–µ—Ä–∫—É:
- Backend API (Fastify + Prisma + PostgreSQL)
- Frontend Web (Next.js)
- Admin Panel (React + Vite)
- Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ:** 33 –ø—Ä–æ–±–ª–µ–º—ã  
**–ö—Ä–∏—Ç–∏—á–Ω—ã—Ö:** 8  
**–í–∞–∂–Ω—ã—Ö:** 5  
**–£–ª—É—á—à–µ–Ω–∏–π:** 20

---

## üö® –ö–†–ò–¢–ò–ß–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### 1. –û—Ç–∫–ª—é—á–µ–Ω strict mode –≤ TypeScript
**–§–∞–π–ª:** `apps/api/tsconfig.json`  
**–°—Ç—Ä–æ–∫–∞:** 9  
**–ü—Ä–æ–±–ª–µ–º–∞:** `"strict": false` –æ—Ç–∫–ª—é—á–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤  
**–†–∏—Å–∫:** –°–∫—Ä—ã—Ç—ã–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω—ã–µ runtime –æ—à–∏–±–∫–∏  
**–†–µ—à–µ–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç—å `"strict": true` –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

```json
{
  "compilerOptions": {
    "strict": true,  // –í–∫–ª—é—á–∏—Ç—å
    "noUnusedLocals": true,
    "noUnusedParameters": true
  }
}
```

---

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è MIME-—Ç–∏–ø–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤
**–§–∞–π–ª:** `apps/api/src/modules/media/media.controller.ts`  
**–°—Ç—Ä–æ–∫–∞:** 10-30  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ MIME-—Ç–∏–ø–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–∞–π–ª–∞  
**–†–∏—Å–∫:** –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤–æ–∑–º–æ–∂–Ω–∞ –∞—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–¥–º–µ–Ω—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö MIME-—Ç–∏–ø–æ–≤

```typescript
const ALLOWED_MIME_TYPES = [
  'image/jpeg',
  'image/png',
  'image/gif',
  'image/webp',
  'application/pdf'
];

if (!ALLOWED_MIME_TYPES.includes(data.mimetype)) {
  return reply.status(400).send({
    statusCode: 400,
    error: 'Bad Request',
    message: '–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞'
  });
}
```

---

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
**–§–∞–π–ª:** `apps/api/src/modules/media/media.service.ts`  
**–°—Ç—Ä–æ–∫–∞:** 38-40  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–∑ originalName –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏  
**–†–∏—Å–∫:** –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ (.exe, .sh, .php –∏ —Ç.–¥.)  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

```typescript
const ALLOWED_EXTENSIONS = ['.jpg', '.jpeg', '.png', '.gif', '.webp', '.pdf'];
const fileExtension = extname(file.originalName).toLowerCase();

if (!ALLOWED_EXTENSIONS.includes(fileExtension)) {
  throw new Error('–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞');
}
```

---

### 4. Dev credentials –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ production
**–§–∞–π–ª:** `apps/api/src/modules/auth/auth.service.ts`  
**–°—Ç—Ä–æ–∫–∞:** 36-67  
**–ü—Ä–æ–±–ª–µ–º–∞:** Dev credentials –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ production  
**–†–∏—Å–∫:** –í–æ–∑–º–æ–∂–µ–Ω –≤—Ö–æ–¥ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ credentials –≤ production  
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å fallback –Ω–∞ dev credentials, –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —è–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

```typescript
// –£–±—Ä–∞—Ç—å fallback –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
const devEmail = env.DEV_ADMIN_EMAIL;
const devPassword = env.DEV_ADMIN_PASSWORD;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —è–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ò —Ç–æ–ª—å–∫–æ –≤ development
if (env.NODE_ENV === 'development' && devEmail && devPassword) {
  // ...
}
```

---

### 5. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç security headers
**–§–∞–π–ª:** `apps/api/src/app.ts`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ security headers  
**–†–∏—Å–∫:** XSS –∞—Ç–∞–∫–∏, clickjacking, MIME type sniffing  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è security headers

```typescript
import helmet from '@fastify/helmet';

await app.register(helmet, {
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      scriptSrc: ["'self'"],
      imgSrc: ["'self'", "data:", "https:"],
    },
  },
});
```

---

### 6. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF
**–§–∞–π–ª:** `apps/api/src/app.ts`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç CSRF –∑–∞—â–∏—Ç—ã –¥–ª—è state-changing –æ–ø–µ—Ä–∞—Ü–∏–π  
**–†–∏—Å–∫:** CSRF –∞—Ç–∞–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å CSRF —Ç–æ–∫–µ–Ω—ã –∏–ª–∏ SameSite cookies

```typescript
import csrf from '@fastify/csrf-protection';

await app.register(csrf, {
  sessionPlugin: '@fastify/session'
});
```

---

### 7. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
**–§–∞–π–ª:** `apps/api/src/modules/articles/articles.service.ts` (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)  
**–ü—Ä–æ–±–ª–µ–º–∞:** HTML –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ TiptapEditor —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏  
**–†–∏—Å–∫:** XSS –∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π HTML  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DOMPurify –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É

```typescript
import DOMPurify from 'isomorphic-dompurify';

const sanitizedContent = DOMPurify.sanitize(content, {
  ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'u', 'h1', 'h2', 'h3', 'ul', 'ol', 'li', 'a', 'img'],
  ALLOWED_ATTR: ['href', 'src', 'alt']
});
```

---

### 8. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
**–§–∞–π–ª:** `apps/api/src/modules/media/media.controller.ts`  
**–°—Ç—Ä–æ–∫–∞:** 20  
**–ü—Ä–æ–±–ª–µ–º–∞:** Buffer —á–∏—Ç–∞–µ—Ç—Å—è –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–∞  
**–†–∏—Å–∫:** DoS –∞—Ç–∞–∫–∞ —á–µ—Ä–µ–∑ –∑–∞–≥—Ä—É–∑–∫—É –æ–≥—Ä–æ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–∑–º–µ—Ä –¥–æ —á—Ç–µ–Ω–∏—è buffer

```typescript
const data = await request.file({
  limits: {
    fileSize: env.MAX_FILE_SIZE,
  },
});

if (data.file.bytesRead > env.MAX_FILE_SIZE) {
  return reply.status(413).send({
    statusCode: 413,
    error: 'Payload Too Large',
    message: '–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π'
  });
}
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 9. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `any`
**–§–∞–π–ª—ã:** 
- `apps/api/src/config/env.ts:53`
- `apps/api/src/modules/calculator/calculator.service.ts:68`
- `apps/api/src/modules/vacancies/vacancies.service.ts:94,117`
- `apps/api/src/modules/services/services.service.ts:64,66`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any` —Å–Ω–∏–∂–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ `unknown` —Å type guards

---

### 10. console.log/error –≤ production –∫–æ–¥–µ
**–§–∞–π–ª—ã:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ `apps/api/src`  
**–ü—Ä–æ–±–ª–µ–º–∞:** console.log –º–æ–∂–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ logger (Pino), —É–¥–∞–ª–∏—Ç—å –≤—Å–µ console.log

```typescript
// –í–º–µ—Å—Ç–æ console.log
request.log.info({ email: input.email }, 'Login attempt');

// –í–º–µ—Å—Ç–æ console.error
request.log.error({ error }, 'Upload failed');
```

---

### 11. Rate limiting —Å–ª–∏—à–∫–æ–º –º—è–≥–∫–∏–π
**–§–∞–π–ª:** `apps/api/src/app.ts:78-81`  
**–ü—Ä–æ–±–ª–µ–º–∞:** 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö endpoints

```typescript
await app.register(rateLimit, {
  max: 100,
  timeWindow: '1 minute',
  // –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤
  skipOnError: false,
});
```

---

### 12. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è folder –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
**–§–∞–π–ª:** `apps/api/src/modules/media/media.service.ts:42`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ–∑–º–æ–∂–µ–Ω path traversal —á–µ—Ä–µ–∑ `../`  
**–†–µ—à–µ–Ω–∏–µ:** –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—É—Ç—å

```typescript
import { normalize, resolve } from 'path';

if (folder) {
  // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –ø—É—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –æ–Ω –≤–Ω—É—Ç—Ä–∏ uploadDir
  const normalizedFolder = normalize(folder);
  const folderPath = resolve(this.uploadDir, normalizedFolder);
  
  if (!folderPath.startsWith(this.uploadDir)) {
    throw new Error('Invalid folder path');
  }
}
```

---

### 13. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ refresh token
**–§–∞–π–ª:** `apps/api/src/modules/auth/auth.service.ts:139-168`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ refresh –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø–æ–≤—Ç–æ—Ä–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ—Å—Ç—å refresh —Ç–æ–∫–µ–Ω–æ–≤

```typescript
// –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ refresh token —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ Redis —Å —Ñ–ª–∞–≥–æ–º "used: false"
// –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π
```

---

## üîß –£–õ–£–ß–®–ï–ù–ò–Ø –ö–ê–ß–ï–°–¢–í–ê –ö–û–î–ê

### 14. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ thumbnail
**–§–∞–π–ª:** `apps/api/src/modules/media/media.service.ts:68`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–ª–∏ –æ—Ç–∫–∞–∑ –æ—Ç thumbnail –ø—Ä–∏ –æ—à–∏–±–∫–µ

---

### 15. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–§–∞–π–ª:** `apps/api/src/services/email.service.ts:46,109`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `process.env` –Ω–∞–ø—Ä—è–º—É—é –≤–º–µ—Å—Ç–æ `env` –∏–∑ config  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ `env.ts` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ config

---

### 16. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
**–§–∞–π–ª:** `apps/api/src/modules/media/media.service.ts:163-170`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —É–¥–∞–ª–µ–Ω  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

---

### 17. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ process.env –Ω–∞–ø—Ä—è–º—É—é
**–§–∞–π–ª:** `apps/api/src/middleware/error.middleware.ts:68,76`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `env` –∏–∑ config  
**–†–µ—à–µ–Ω–∏–µ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `env.NODE_ENV`

---

### 18. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ buffer
**–§–∞–π–ª:** `apps/api/src/modules/media/media.service.ts:50`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä buffer –ø–µ—Ä–µ–¥ `writeFileSync`

---

## üåê API –ü–†–û–ë–õ–ï–ú–´

### 19. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `/api/v1`, –Ω–µ—Ç –ø–ª–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 20. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç pagination –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö endpoints
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ endpoints –Ω–∞ –Ω–∞–ª–∏—á–∏–µ pagination  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å pagination –≤–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Å–ø–∏—Å–∫–∏

---

### 21. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –≤—Å–µ endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

---

## üíª FRONTEND –ü–†–û–ë–õ–ï–ú–´

### 22. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
**–§–∞–π–ª:** `apps/web/lib/api.ts:43-52`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ network errors  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É network errors

```typescript
try {
  const response = await fetch(url, config);
  // ...
} catch (error) {
  if (error instanceof TypeError && error.message === 'Failed to fetch') {
    throw new Error('–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É');
  }
  throw error;
}
```

---

### 23. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç retry –ª–æ–≥–∏–∫–∞
**–§–∞–π–ª:** `apps/web/lib/api.ts`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å retry —Å exponential backoff

---

### 24. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ window.prompt
**–§–∞–π–ª:** `apps/admin/src/components/editor/TiptapEditor.tsx:55,79`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –ø–ª–æ—Ö–æ–π UX  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

---

### 25. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è URL
**–§–∞–π–ª:** `apps/admin/src/components/editor/TiptapEditor.tsx:56,80`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ URL –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é URL

```typescript
const isValidUrl = (url: string) => {
  try {
    new URL(url);
    return true;
  } catch {
    return false;
  }
};
```

---

## üê≥ DOCKER –ü–†–û–ë–õ–ï–ú–´

### 26. –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
**–§–∞–π–ª:** `docker-compose.yml:11,47-48`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏  
**–†–µ—à–µ–Ω–∏–µ:** –¢—Ä–µ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª

---

### 27. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç .env.example
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–∏–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

---

### 28. –ü–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã –Ω–∞—Ä—É–∂—É
**–§–∞–π–ª:** `docker-compose.yml:15,32`  
**–ü—Ä–æ–±–ª–µ–º–∞:** PostgreSQL –∏ Redis –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã –Ω–∞—Ä—É–∂—É  
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å `ports` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üóÑÔ∏è DATABASE –ü–†–û–ë–õ–ï–ú–´

### 29. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–Ω–¥–µ–∫—Å—ã
**–§–∞–π–ª:** `apps/api/prisma/schema.prisma`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞:
- `User.email` (—É–∂–µ –µ—Å—Ç—å @unique)
- `Service.slug`
- `Project.slug`
- `Article.slug`
- `Request.status`, `Request.createdAt`
- `Review.isApproved`

---

### 30. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç CHECK constraints –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ Prisma –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üìù LOGGING –ü–†–û–ë–õ–ï–ú–´

### 31. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∞—É–¥–∏—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```typescript
request.log.info({
  userId: request.user?.id,
  action: 'create_article',
  articleId: article.id
}, 'Article created');
```

---

### 32. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
**–§–∞–π–ª:** `apps/api/src/modules/auth/auth.service.ts`  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è failed login attempts  
**–†–µ—à–µ–Ω–∏–µ:** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ (—É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ)

---

## üß™ TESTING –ü–†–û–ë–õ–ï–ú–´

### 33. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –Ω–∞ SQL injection, XSS, file upload  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å security —Ç–µ—Å—Ç—ã

---

## üìä –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ö—Ä–∏—Ç–∏—á–Ω–æ (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):
1. ‚úÖ –í–∫–ª—é—á–∏—Ç—å strict mode –≤ TypeScript
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é MIME-—Ç–∏–ø–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
3. ‚úÖ –£–±—Ä–∞—Ç—å dev credentials –∏–∑ production –∫–æ–¥–∞
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å security headers
5. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é HTML
6. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
7. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç CSRF
8. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å path traversal –≤ folder –ø–∞—Ä–∞–º–µ—Ç—Ä–µ

### –í–∞–∂–Ω–æ (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è):
9. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å `any` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
10. ‚úÖ –£–±—Ä–∞—Ç—å console.log –∏–∑ production –∫–æ–¥–∞
11. ‚úÖ –£–ª—É—á—à–∏—Ç—å rate limiting
12. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è refresh token
13. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ process.env

### –£–ª—É—á—à–µ–Ω–∏—è (–º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ):
14-33. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–∑ —Å–ø–∏—Å–∫–∞

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–í–Ω–µ–¥—Ä–∏—Ç—å CI/CD pipeline** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ security —Å–∫–∞–Ω–µ—Ä–∞–º–∏
2. **–î–æ–±–∞–≤–∏—Ç—å pre-commit hooks** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –æ—à–∏–±–æ–∫ –∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
4. **–ü—Ä–æ–≤–µ—Å—Ç–∏ penetration testing** –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ production
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å** –≤—Å–µ security –º–µ—Ä—ã –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤ —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–π –ø—Ä–æ–±–ª–µ–º—ã.

