# üê≥ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ –° DOCKER

## –ü—Ä–æ–±–ª–µ–º–∞
Docker Desktop –Ω–µ –∑–∞–ø—É—â–µ–Ω. API –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Docker

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
1. –ù–∞–π–¥–∏—Ç–µ Docker Desktop –≤ –º–µ–Ω—é –ü—É—Å–∫
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–∫–∞ Docker Desktop –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è (–∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª–µ–Ω–æ–π)

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cd D:\bot\order_1.1

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL –∏ Redis
docker-compose up -d postgres redis minio
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã

```bash
docker-compose ps
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ order_postgres
- ‚úÖ order_redis  
- ‚úÖ order_minio

### –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd apps/api
npx prisma migrate dev
```

### –®–∞–≥ 5: –ó–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã–º–∏

```bash
cd apps/api
npm run prisma:seed
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (admin@example.com / admin123)
- ‚úÖ 19 –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∞–π—Ç–∞
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å API

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω API:
1. –ù–∞–∂–º–∏—Ç–µ `Ctrl+C`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: `npm run dev`

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —á—Ç–æ–±—ã –≤—Å–µ (API, Admin, Frontend) —Ä–∞–±–æ—Ç–∞–ª–æ –≤ Docker:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
docker-compose up -d --build

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
docker-compose exec api npx prisma migrate deploy

# –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏ (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
docker-compose exec api npm run prisma:seed
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- üåê Frontend: http://localhost:3000
- üë®‚Äçüíº Admin: http://localhost:3001
- üîå API: http://localhost:4000
- üìö API Docs: http://localhost:4000/api/docs

---

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (—É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!)
docker-compose down -v
```

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ API
docker-compose logs -f api

# –¢–æ–ª—å–∫–æ PostgreSQL
docker-compose logs -f postgres
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å API
docker-compose restart api

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --build api
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ß–µ—Ä–µ–∑ Docker
docker-compose exec postgres psql -U postgres -d repair_service_db

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DBeaver / pgAdmin
# Host: localhost
# Port: 5432
# Database: repair_service_db
# User: postgres
# Password: postgres
```

---

## ‚ùì –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Docker Desktop –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª—é—á–µ–Ω–∞ –ª–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ BIOS
3. –û–±–Ω–æ–≤–∏—Ç–µ Docker Desktop –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### –ü–æ—Ä—Ç 5432 –∑–∞–Ω—è—Ç

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ:

**–í–∞—Ä–∏–∞–Ω—Ç 1:** –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL
```bash
# –í PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
Stop-Service postgresql-x64-14  # –∏–ª–∏ –≤–∞—à—É –≤–µ—Ä—Å–∏—é
```

**–í–∞—Ä–∏–∞–Ω—Ç 2:** –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
```yaml
postgres:
  ports:
    - "5433:5432"  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
```

–ò –≤ .env:
```env
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/repair_service_db
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å!
